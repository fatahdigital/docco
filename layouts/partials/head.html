{{- if .Site.IsServer -}} {{ "<!-- Partial: head.html -->" |safeHTML }} {{- end -}}
  <head>

    {{ .Hugo.Generator }}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="description" content="{{ with .Description }}{{ . }}{{ else }}{{ with .Site.Params.description }}{{ . }}{{ end }}{{ end }}">

    {{- template "_internal/opengraph.html" . -}}
    {{- template "_internal/schema.html" . -}}
    {{- template "_internal/twitter_cards.html" . -}}
    {{- template "_internal/google_analytics.html" . -}}

    {{ with .Site.Params.author }}
      <meta name="author" content="{{ . }}">
    {{ end }}

    {{ partial "favicon.html" . }}

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

     
    {{- if .Site.IsServer -}}
    {{ "<!-- Load CSS without minification -->" | safeHTML }}
    {{ $mainCSS := resources.Get "css/main.scss" | toCSS }}
    <link rel="stylesheet" media="screen" type="text/css" href="{{ $mainCSS.Permalink }}" />
    
    {{ else }}

    {{ "<!-- Load CSS with minification and fingerprinting -->" | safeHTML }}
    {{ $mainCSS := resources.Get "css/main.scss" | toCSS ( dict "enableSourceMap" true ) | minify | fingerprint }}
    <link rel="stylesheet" media="screen" type="text/css" href="{{ $mainCSS.Permalink }}" />
    
    {{- end -}}

    {{ range .Site.Params.custom_css -}}
      <link href="{{(printf "%s" .) | relURL}}" rel="stylesheet">
    {{- end }}

    {{ block "header_css" . }}{{ end }}

    <title>{{ block "title" . }}{{ .Title | default .Site.Title }}{{ end }}</title>

    {{ partial "custom-head.html" . }}
  </head>
{{- if .Site.IsServer -}} {{ "<!-- End Partial: head.html -->" | safeHTML }} {{- end -}}